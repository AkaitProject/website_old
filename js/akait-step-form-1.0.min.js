function t_form_splittingOnStep(t){var e=document.querySelector("#rec"+t);if(e){var r=e.querySelector(".t-form");if(r){var o=r.querySelectorAll(".t-input-group.t-input-group_st"),n=e.querySelector(".t-form__inputsbox"),s=n.querySelectorAll(".t-input-group_st"),i,_,a,c=0,l=n.querySelectorAll(".t-form-step-divider"),f=null;t_form__steps()}}function t_form__steps(){0!==s.length&&(Array.prototype.forEach.call(o,(function(t){t.style.margin="0px"})),n.classList.add("t-form__screen"),t_form__addBtns(),a=n.querySelector(".t-form__screen-current-view"),t_form__breakOnStep(),i=n.querySelectorAll(".t-form__screen-wrapper"),_=i.length,r.classList.contains("t-conditional-form")&&t_form__onFuncLoad("t_form__conditionals__initStepForm",(function(){var e;f=t_form__conditionals__initStepForm({recId:t,steps:i,activeStepIndex:c,onConditionalFieldChange:function(t){_=t.totalActiveStepsCount,t_form__redrawCounterAndProgressbar(t.activePossibleStepIndex+1,t.totalActiveStepsCount),t_form__showHideBtn()}}),_=f.getState().totalActiveStepsCount,t_form__showHideBtn()})),t_form__addAllNumberAndProgress(),t_form__controlFormScreen(),n&&t_form__checkFormWidth())}function t_form__addBtns(){var t=n.querySelector(".t-form__submit"),r="",o="",s="",i="",_="",a="";i=window.t_forms__lang,l&&l[c]?(_=l[c].getAttribute("data-akait-form-step-btn-next"),a=l[c].getAttribute("data-akait-form-step-btn-prev")):c===l.length&&l&&l[c-1]&&(_=l[c-1].getAttribute("data-akait-form-step-btn-next"),a=l[c-1].getAttribute("data-akait-form-step-btn-prev")),o=_||("RU"===i&&i?"Далее":"Next"),s=a||("RU"===i&&i?"Назад":"Back");var f=e.querySelector(".t-form__screen-btn-next"),p=e.querySelector(".t-form__screen-btn-prev");if(!f||!p){var r='<button class="t-btn t-btn_sm t-form__screen-btn-prev" type="button"><span>'+s+'</span></button><button class="t-btn t-btn_sm t-form__screen-btn-next" type="button"><span>'+o+"</span></button>",u='<div class="t-form__screen-current-view t-name"></div>',t;return(t=n.querySelector(".t-form__submit")).insertAdjacentHTML("beforeend",r),void t.insertAdjacentHTML("beforeend",u)}f.textContent=o,p.textContent=s}function t_form__breakOnStep(){var t=n.querySelectorAll(".t-input-group"),e=t_form__createInputWrapper(),r=[],o=[];Array.prototype.forEach.call(t,(function(t){t.classList.contains("t-input-group_st")?(r.push(e),e=t_form__createInputWrapper()):e.appendChild(t)})),r.push(e),Array.prototype.forEach.call(n.children,(function(t,e){t.classList.contains("t-input-group_st")&&o.push(e)})),o.push(o[o.length-1]+1),Array.prototype.forEach.call(r,(function(t,e){n.insertBefore(t,n.children[o[e]]),t_form__incSubsequentValue(o,e+1)}))}function t_form__incSubsequentValue(t,e){for(var r=e;r<t.length;r++)t[r]+=1}function t_form__createInputWrapper(){var t=document.createElement("div");return t.classList.add("t-form__screen-wrapper"),t}function t_form__addAllNumberAndProgress(){a.innerHTML='<div class="t-form__screen-number-container"><span class="t-form__screen-number-current t-form__screen-number_opacity"></span><span>/</span><span class="t-form__screen-number-total">'+_+'</span></div><svg class="t-form__screen-progress" style="-webkit-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);" width="30" height="30" viewPort="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg"><circle class="t-form__screen-progress-circle" r="10" cx="15" cy="15" fill="transparent" stroke-dasharray="0" stroke-dashoffset="0"></circle><circle class="t-form__screen-progress-bar" r="10" cx="15" cy="15" fill="transparent" stroke-dasharray="62.8319" stroke-dashoffset="62.8319"></circle></svg>'}function t_form__controlFormScreen(){var o=e.querySelector(".t-form__screen-btn-prev"),n=e.querySelector(".t-form__screen-btn-next"),s=e.querySelector(".t-submit"),_=e.querySelector(".t-form-step-divider_novalidate"),a=e.querySelector(".t-form__screen-number_opacity"),l=e.querySelector(".t-form__screen-progress-bar"),p=t_throttle(t_form__resize,300,this);function t_form__initFormScreen(){Array.prototype.forEach.call(i,(function(t){t.style.display="none",t.classList.remove("t-form__screen-wrapper_active")})),i[c].style.display="block",i[c].classList.add("t-form__screen-wrapper_active"),t_form__isLastStep()?(r.classList.add("js-form-proccess"),s.style.display="inline-block"):(r.classList.remove("js-form-proccess"),s.style.display="none");var t=t_form__getVisibleStepDisplayNumber();t_form__setCurrentNumber(a,t),t_form__setProgressbar(l,t),t_form__calculateCoverHeight(),t_form__resizePopupHeight(e),t_form__updateRangeSliders(i[c])}function t_form__updateRangeSliders(e){var r;e&&e.querySelectorAll('input[type="range"]').forEach((function(e){var r=e.getAttribute("id").replace("input_","");"function"==typeof t_inputRange__updateVal&&t_inputRange__updateVal(t,r)}))}function t_form__setCurrentNumber(t,e){t.innerHTML=e}function t_form__prevBtn(t){t.preventDefault(),t_form__isFirstStep()||(c=t_form__getPrevStepIndex(),f&&f.onStepChange(c),t_form__showHideBtn(),t_form__initFormScreen(),t_form__scrollToFormStart(),t_form__addBtns())}function t_form__nextBtn(t){var e;t.preventDefault(),!_&&t_form__checkOnError(r,i,c)||t_form__isLastStep()||(c=t_form__getNextStepIndex(),f&&f.onStepChange(c),t_form__showHideBtn(),t_form__initFormScreen(),t_form__scrollToFormStart(),t_form__lazyLoad(),t_form__addBtns())}function t_form__keypress(t){var e=i[c].querySelectorAll(".t-input-group.t-input-group_ta");if(13===t.keyCode&&!r.classList.contains("js-form-proccess")&&0===e.length){var o;if(!_&&t_form__checkOnError(r,i,c))return void t.preventDefault();t_form__nextBtn(t),t.preventDefault()}}o.addEventListener("click",t_form__prevBtn),n.addEventListener("click",t_form__nextBtn),Array.prototype.forEach.call(i,(function(t){t.addEventListener("keypress",t_form__keypress)})),window.addEventListener("resize",p),t_form__initFormScreen()}function t_form__setProgressbar(t,e){var r=parseFloat(t.getAttribute("stroke-dasharray")).toFixed(3),o=parseFloat(r/_).toFixed(3),n=parseFloat(r-e*o).toFixed(3);t.style.strokeDashoffset=n,t.setAttribute("stroke-dashoffset",n)}function t_form__showHideBtn(){var t=e.querySelector(".t-form__screen-btn-prev"),o=e.querySelector(".t-form__screen-btn-next"),n=e.querySelector(".t-submit"),s=t_form__isLastStep(),i=t_form__isFirstStep();return s?(i||(t.style.display="inline-block"),o.style.display="none",r.classList.add("js-form-proccess"),void(n.style.display="inline-block")):i?(s||(r.classList.remove("js-form-proccess"),n.style.display="none"),t.style.display="none",void(o.style.display="inline-block")):(r.classList.remove("js-form-proccess"),n.style.display="none",t.style.display="inline-block",void(o.style.display="inline-block"))}function t_form__scrollToFormStart(){var t=e.querySelector(".t-popup"),o=0;if(t){o=r.offsetTop;var n=document.querySelector(".t702");if(n){var s=n.querySelector(".t702__text-wrapper"),i=n.querySelector(".t702__close, .t-popup__close");if(s){var _=window.getComputedStyle(s),a=parseFloat(_.height),c=parseFloat(_.marginTop),l=parseFloat(_.marginBottom);isNaN(c)||isNaN(a)||(a+=c),isNaN(l)||isNaN(a)||(a+=l),o=o-a-4}if(i){var f=window.getComputedStyle(i),p=parseFloat(f.height),u=parseFloat(f.marginTop),m=parseFloat(f.marginBottom);isNaN(u)||isNaN(p)||(p+=u),isNaN(m)||isNaN(p)||(p+=m),o=o-p-4}}t.scrollTop=o}else(o=e.querySelector(".t-form__screen").getBoundingClientRect().top+window.pageYOffset-150)<window.scrollY&&window.scrollTo(0,o)}function t_form__calculateCoverHeight(){var t=e.querySelector(".t-cover"),r=e.querySelector("div[data-hook-content]"),o=e.querySelector(".t-cover__carrier");if(t&&r&&o){var n=t.offsetHeight,s=r.offsetHeight,i=o.getAttribute("data-content-cover-height");if(i&&(i=-1!==i.indexOf("px")?parseInt(i):window.innerHeight*(parseInt(i)/100)),s>300&&(s+=120),s>1e3&&(s+=100),s<i&&(s=i),n!==s){var _=e.querySelector(".t-cover__filter"),a=e.querySelector(".t-cover__wrapper"),c=e.querySelector(".t-cover__container");console.log("auto correct cover height: "+s),t&&(t.style.height=s+"px"),o&&(o.style.height=s+"px"),_&&(_.style.height=s+"px"),a&&(a.style.height=s+"px"),c&&(c.style.height=s+"px"),window.isMobile||o.querySelectorAll("iframe").length>0&&(console.log("correct video from cover_fixcontentheight"),t_form__onFuncLoad("setWidthAndHeightVideo",(function(){setWidthAndHeightVideo(o,s+"px","youtube")})))}}}function t_form__resize(){t_form__calculateCoverHeight(),n&&t_form__checkFormWidth()}function t_form__resizePopupHeight(t){var e=t.querySelector(".t-popup__container");if(e){var r,o=120,n;parseFloat(getComputedStyle(e,null).height.replace("px",""))>window.innerHeight-o?e.classList.add("t-popup__container-static"):e.classList.remove("t-popup__container-static")}}function t_form__checkFormWidth(){window.innerWidth<640?a.style.display="none":a.style.display="block"}function t_form__checkOnError(t,e,r){var o=e[r],n=window.akaitForm.validate(o),s;window.akaitForm.hideErrors(t);var i=n[0],_;i&&(s="emptyfill"!=i.type[0]&&window.akaitForm.showErrors(t,n));return s}function t_form__redrawCounterAndProgressbar(t,r){var o=a.querySelector(".t-form__screen-number-current"),n=a.querySelector(".t-form__screen-number-total"),s;o.innerHTML=t,n.innerHTML=r,t_form__setProgressbar(e.querySelector(".t-form__screen-progress-bar"),t)}function t_form__getVisibleStepDisplayNumber(){return f?f.getState().activePossibleStepIndex+1:c+1}function t_form__isLastStep(){var t;return t_form__getVisibleStepDisplayNumber()===_}function t_form__isFirstStep(){var t;return 1===t_form__getVisibleStepDisplayNumber()}function t_form__getNextStepIndex(){return f?f.getState().nextStepIndex:c+1}function t_form__getPrevStepIndex(){return f?f.getState().prevStepIndex:c-1}}function t_form__lazyLoad(){var t=document.querySelector("#allrecords");t&&(t.getAttribute("data-akait-mode")||"y"!==window.lazy&&"yes"!==t.getAttribute("data-akait-lazy")||t_form__onFuncLoad("t_lazyload_update",(function(){t_lazyload_update()})))}function t_form__onFuncLoad(t,e,r){"function"==typeof window[t]?e():setTimeout((function checkFuncExist(){if("function"!=typeof window[t]){if("complete"===document.readyState&&"function"!=typeof window[t])throw new Error(t+" is undefined");setTimeout(checkFuncExist,r||100)}else e()}))}t_onReady((function(){var t="https://static.akaitcdn.com/css/akait-step-form-1.0.min.css",e;document.querySelector('link[href^="'+t+'"]')||document.head.insertAdjacentHTML("beforeend",'<link href="'+t+'">')}));